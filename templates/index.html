{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kids Brain Games - Fun Games for Growing Minds</title>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            color: #333;
            line-height: 1.6;
        }

        /* Container */
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 12px 24px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem; /* важно */
            line-height: 1.2; /* важно */
            text-align: center; /* важно */
            border: none; /* важно для кнопок */
            background: none; /* обнуляет фон у button */
            color: #8a2be2;
        }

        .btn-primary {
            background-color: #8a2be2;
            color: white;
            border: none;
        }

        .btn-primary:hover {
            background-color: #7722c9;
        }

        .btn-outline {
            background-color: transparent;
            color: #8a2be2;
            border: 2px solid #d8c2f3;
        }

        .btn-outline:hover {
            background-color: #f5f0ff;
        }

        /* Hero Section */
        .hero {
            padding: 60px 0;
            background-image: 
                url("{% static 'images/symbol.png' %}"),
                linear-gradient(180deg, #e9d4ff 0%, #d1f4ff 100%);
            background-position: top left, center;
            background-repeat: no-repeat, no-repeat;
            background-size: 20%, cover;
        }

        .quiz-section {
            padding: 80px 20px;
            background-image: 
                url("{% static 'images/symbol3.png' %}"),
                linear-gradient(to bottom, #f0faff, #e0f2fe, #b9e6fc);
            background-position: top left, center;
            background-repeat: no-repeat, no-repeat;
            background-size: 20%, cover;
        }

        .hero-content {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 40px;
        }

        .hero-text {
            flex: 1;
            min-width: 300px;
        }

        .hero-image {
            flex: 1;
            min-width: 300px;
            text-align: center;
        }

        .hero-image img {
            max-width: 100%;
            height: auto;
            border-radius: 16px;
        }

        .hero h1 {
            color: #8a2be2;
            font-size: 2.5rem;
            margin-bottom: 16px;
        }

        .hero p {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 24px;
            max-width: 600px;
        }

        .hero-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        /* Games Section */
        .games-section {
            padding: 60px 0;
            background-image: 
                url("{% static 'images/symbol2.png' %}"),
                linear-gradient(180deg, #e9d4ff 0%, #d1f4ff 100%);
            background-position: top right, center;
            background-repeat: no-repeat, no-repeat;
            background-size: 20%, cover;
        }

        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-header h2 {
            color: #8a2be2;
            font-size: 2rem;
            margin-bottom: 16px;
        }

        .section-header p {
            color: #666;
            max-width: 700px;
            margin: 0 auto;
        }

        .game-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .card {
            border-radius: 12px;
            overflow: hidden;
            width: 100%;
            max-width: 350px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            text-align: center;
            padding: 24px;
        }

        .card-logic {
            background-color: #fffbeb;
            border: 2px solid #fef3c7;
        }

        .card-memory {
            background-color: #eff6ff;
            border: 2px solid #dbeafe;
        }

        .card-brain {
            background-color: #ecfdf5;
            border: 2px solid #d1fae5;
        }

        .card-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .card-logic .card-icon {
            background-color: #fef3c7;
            color: #d97706;
        }

        .card-memory .card-icon {
            background-color: #dbeafe;
            color: #2563eb;
        }

        .card-brain .card-icon {
            background-color: #d1fae5;
            color: #059669;
        }

        .card h3 {
            margin-bottom: 12px;
            font-size: 1.5rem;
        }

        .card-logic h3 {
            color: #d97706;
        }

        .card-memory h3 {
            color: #2563eb;
        }

        .card-brain h3 {
            color: #059669;
        }

        .card p {
            margin-bottom: 20px;
            color: #666;
        }

        .card-logic .btn-outline {
            color: #d97706;
            border-color: #fef3c7;
        }

        .card-memory .btn-outline {
            color: #2563eb;
            border-color: #dbeafe;
        }

        .card-brain .btn-outline {
            color: #059669;
            border-color: #d1fae5;
        }

        .view-all {
            text-align: center;
            margin-top: 40px;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .section-header h2 {
                font-size: 1.8rem;
            }
        }
        .card {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            height: 100%; /* позволит растянуть по высоте */
            min-height: 380px; /* или любое другое значение */
        }

        .card .btn {
            margin-top: auto; /* прижимает кнопку к нижнему краю карточки */
        }
        .logo-frame {
            display: inline-block;
            padding: 16px;
            background: linear-gradient(135deg, #8a2be2, #d8c2f3);
            border-radius: 24px;
            box-shadow: 0 8px 16px rgba(138, 43, 226, 0.3);
        }

        .logo-frame img {
            display: block;
            max-width: 100%;
            height: auto;
            border-radius: 16px;
            padding: 10px;
        }
        /* ===== NAVBAR ===== */
        .navbar {
            background: #fff;
            box-shadow: 0 4px 12px rgba(0,0,0,.06);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-wrapper {
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 72px;
        }

        /* Brand */
        .nav-logo img {
            height: 48px;
            width: auto;
        }

        /* Hamburger */
        .nav-toggle {
            display: none;                /* shown via media query */
            flex-direction: column;
            gap: 4px;
            background: none;
            border: 0;
            cursor: pointer;
        }
        .nav-toggle span {
            width: 26px;
            height: 3px;
            background: #8a2be2;
            border-radius: 2px;
            transition: transform .3s ease;
        }

        /* Links */
        .nav-links ul {
            list-style: none;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .nav-links a.btn {
            padding: 8px 16px;            /* a bit slimmer than hero buttons */
        }

        /* ---------- Responsive ---------- */
        @media (max-width: 768px) {
            .nav-toggle { display: flex; }

            .nav-links {
                position: absolute;
                top: 100%; left: 0; right: 0;
                background: #fff;
                max-height: 0;
                overflow: hidden;
                box-shadow: 0 8px 16px rgba(0,0,0,.08);
                transition: max-height .35s ease;
            }
            .nav-links ul {
                flex-direction: column;
                padding: 16px 0;
            }
            .nav-links.show {             /* toggled via JS */
                max-height: 400px;          /* enough for all links */
            }
        }
        /* === Декор между секциями === */
        .ornament-divider {
            width: 100%;
            height: 80px;                       /* подстройте высоту под рисунок */
            background: url("{% static 'images/ornament.png' %}") repeat-x center/contain;
            background-color: #f2f2f2;
        }
        .ornament-divider:nth-of-type(1n) { background-color: #dbceff; } /* чуть темнее фиолетового (#8a2be2) */
        .ornament-divider:nth-of-type(2n) { background-color: #ffeccf; } /* чуть темнее янтарного (#d97706) */
        .ornament-divider:nth-of-type(3n) { background-color: #dce8ff; } /* чуть темнее синего   (#2563eb) */
        .ornament-divider:nth-of-type(4n) { background-color: #d6f7ec; } /* чуть темнее зелёного (#059669) */
        /* === Falling Emojis Animation === */
        .falling-emojis-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0; /* Позади основного контента */
        }

        .falling-emoji {
            position: absolute;
            top: -50px;
            font-size: 2rem;
            opacity: 0.8;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-50px) rotate(0deg);
                opacity: 0.8;
            }
            100% {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0;
            }
        }
        p {
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <!-- ========================= NAVBAR ========================= -->
    <header class="navbar">
        <div class="container nav-wrapper">
            <!-- Логотип -->
            <a href="{% url 'index' %}" class="nav-logo">
                <img src="{% static 'images/logo1.png' %}" alt="Kids Brain Games">
            </a>
        
            <!-- Гамбургер (виден <768 px) -->
            <button class="nav-toggle" aria-label="Открыть навигацию">
                <span></span><span></span><span></span>
            </button>
        
            <!-- Основные ссылки -->
            <nav class="nav-links">
                <ul>
                <li><a href="{% url 'index' %}#games"    class="btn">Игры</a></li>
                <li><a href="{% url 'index' %}#why"      class="btn">Почему важно</a></li>
                <li><a href="{% url 'index' %}#quiz"     class="btn">Подбор игры</a></li>
                <li><a href="{% url 'index' %}#parents"  class="btn">Для родителей</a></li>
                <li><a href="{% url 'leaderboard' %}"    class="btn btn-primary">🏆 Рейтинг</a></li>
        
                {% if user.is_authenticated %}
                    <li><a href="{% url 'profile' %}" class="btn">👤 Профиль</a></li>
                    <li>
                    <form method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="btn">Выйти</button>
                    </form>
                    </li>
                {% else %}
                    <li><a href="{% url 'login' %}"    class="btn btn-primary">Войти</a></li>
                    <li><a href="{% url 'register' %}" class="btn">Регистрация</a></li>
                {% endif %}
                </ul>
            </nav>
        </div>
    </header>
  
    <!-- Hero Section -->
    <section class="hero">
        <div class="falling-emojis-container" id="falling-emojis"></div>
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1>Весёлые игры для развивающегося ума</h1>
                    <p>Увлекательные игры, которые помогут развить у вашего ребёнка логику, память и умственные способности — и всё это в игровой форме!</p>
                    <div class="hero-buttons">
                        {% if user.is_authenticated %}
                            <form method="post" action="{% url 'logout' %}" style="display:inline;">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-outline">Выйти</button>
                            </form>
                            <a href="{% url 'profile' %}" class="btn btn-outline">👤 Профиль игрока</a>
                        {% else %}
                            <a href="{% url 'login' %}" class="btn btn-primary">Войти</a>
                            <a href="{% url 'register' %}" class="btn btn-outline">Регистрация</a>
                        {% endif %}

                        <a href="{% url 'leaderboard' %}" class="btn btn-primary">🏆 Рейтинг игроков</a>
                    </div>                       
                </div>
                <div class="hero-image">
                    <div class="logo-frame">
                        <img src="{% static 'images/logo.png' %}" alt="Дети играют в обучающие игры">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="ornament-divider"></div>

    <!-- Why It Matters Section -->
    <section style="background: #ecfdf5; padding: 80px 20px;" id="why">
        <div class="container">
            <div class="section-header">
                <h2 style="color: #059669;">Почему это важно?</h2>
                <p style="color: #444; max-width: 700px; margin: 0 auto;">
                    Развивающие игры — это не просто забава. Они активируют мозг ребёнка, улучшают память, концентрацию и критическое мышление. Регулярные занятия через игру помогают легче справляться со школьной нагрузкой и раскрывать потенциал ребёнка.
                </p>
            </div>
        </div>
    </section>

    <div class="ornament-divider"></div>

	<!-- Game Categories Section -->
	<section class="games-section" id="games">
        <div class="container">
            <div class="section-header">
                <h2>Наши Игры</h2>
                <p>Попробуйте весёлые и развивающие игры, созданные для улучшения логики, памяти и умственных способностей!</p>
            </div>
            <div class="game-cards">
                <!-- Карточка игры 2048 -->
                <div class="card card-logic">
                    <div class="card-icon">
                        <img src="{% static 'images/kumis_bowl.png' %}" alt="Kumis Bowl" width="60" height="60">
                    </div>
                    <h3>Головоломка 2048</h3>
                    <p>Используйте стрелки, чтобы объединять числа и достичь 2048. Отлично развивает логику и числовое мышление!</p>
                    <a href="/2048/" class="btn btn-outline">Играть в 2048</a>
                </div>

                <!-- Карточка игры Martian Money -->
                <div class="card card-memory">
                    <div class="card-icon">
                        <img src="{% static 'images/tenge_money.png' %}" alt="Tenge Money" width="60" height="60">
                    </div>
                    <h3>Марсианские Деньги</h3>
                    <p>Определите, какой марсианин богаче, анализируя их инопланетную валюту. Цвет = значение!</p>
                    <a href="/marsmoney/" class="btn btn-outline">Играть в Марсиан</a>
                </div>

                <!-- Mastercards -->
                <div class="card card-memory">
                    <div class="card-icon">
                        <img src="{% static 'images/golden_sheep.png' %}" alt="Golden Sheep" width="60" height="60">
                    </div>
                    <h3>Мастер-карты</h3>
                    <p>Находите пары эмодзи, скрытые под картами. Развивает зрительную память и внимание!</p>
                    <a href="/mastercards/" class="btn btn-outline">Играть в Мастер-карты</a>
                </div>

                <!-- Masterpieces -->
                <div class="card card-logic">
                    <div class="card-icon">
                        <img src="{% static 'images/kazakh_pattern_flag.png' %}" alt="Kazakh Pattern" width="60" height="60">
                    </div>
                    <h3>Шедевры Памяти</h3>
                    <p>Запомните порядок эмодзи и воспроизведите точную последовательность. Отлично тренирует кратковременную память!</p>
                    <a href="/masterpieces/" class="btn btn-outline">Играть в Шедевры</a>
                </div>

                <!-- Brilliant Mind -->
                <div class="card card-brain">
                    <div class="card-icon">
                        <img src="{% static 'images/kazakh_elder.png' %}" alt="Elder" width="60" height="60">
                    </div>
                    <h3>Гениальный Ум</h3>
                    <p>Найдите один эмодзи, который был заменён. Проверяет вашу память и внимательность!</p>
                    <a href="/genius_memory/" class="btn btn-outline">Играть в Гения</a>
                </div>

                <!-- Number Hunt -->
                <div class="card card-brain">
                    <div class="card-icon">
                        <img src="{% static 'images/kazakh_horse.png' %}" alt="Horse" width="60" height="60">
                    </div>
                    <h3>Охота за Цифрами</h3>
                    <p>Следите за движущимися цифрами и посчитайте их сумму. Отличная тренировка внимания и устного счёта!</p>
                    <a href="/number_hunt/" class="btn btn-outline">Играть в Охоту</a>
                </div>
                
                <!-- Color Pairs -->
                <div class="card card-memory">
                    <div class="card-icon">
                        <img src="{% static 'images/kazakh_bride.png' %}" alt="Bride" width="60" height="60">
                    </div>
                    <h3>Цветовые Пары</h3>
                    <p>Найдите совпадающие эмодзи на экране. Ошибся — начни сначала! Тренирует память и визуальное восприятие.</p>
                    <a href="/color_pairs/" class="btn btn-outline">Играть в Цвета</a>
                </div>
                
                <!-- Match the Feel -->
                <div class="card card-logic">
                    <div class="card-icon">
                        <img src="{% static 'images/dombra_instrument.png' %}" alt="Dombra" width="60" height="60">
                    </div>
                    <h3>Общая Тематика</h3>
                    <p>Меняйте эмодзи в ячейках, пока все не будут относиться к одной тематике. Прокачайте мышление!</p>
                    <a href="/match_the_feel/" class="btn btn-outline">Играть в Темы</a>
                </div>
                
                <!-- Still Awake -->
                <div class="card card-memory">
                    <div class="card-icon">
                        <img src="{% static 'images/eagle_hunter.png' %}" alt="Eagle Hunter" width="60" height="60">
                    </div>
                    <h3>Не Спит</h3>
                    <p>Запомните, в каких квартирах горел свет. Потом укажите те, что остались освещёнными. Проверка памяти!</p>
                    <a href="/still_awake/" class="btn btn-outline">Играть в Квартиры</a>
                </div>
                
                <!-- Chess (Placeholder if not implemented) -->
                <div class="card card-logic">
                    <div class="card-icon">
                        <img src="{% static 'images/yurt.png' %}" alt="Yurt" width="60" height="60">
                    </div>
                    <h3>Шахматы с ИИ</h3>
                    <p>Играйте в шахматы против искусственного интеллекта. Настройте глубину поиска и наблюдайте за ходами компьютера в реальном времени!</p>
                    <a href="/chess/" class="btn btn-outline">Играть в Шахматы</a>
                </div>
            </div>
        </div>
    </section>

    <div class="ornament-divider"></div>

    <!-- Quote Section -->
    <section class="quote-section" style="background: linear-gradient(to right, #f5f0ff, #d8c2f3); padding: 80px 20px; text-align: center;">
        <div class="container">
            <blockquote style="font-size: 1.8rem; font-style: italic; color: #4b0082; max-width: 800px; margin: 0 auto;">
                «Игра — это не просто развлечение. Это путь к обучению, мышлению и жизни.»
            </blockquote>
            <p style="margin-top: 20px; font-size: 1.2rem; color: #666;">— Платон</p>
        </div>
    </section>

    <div class="ornament-divider"></div>
    
    <!-- Game Recommender Quiz -->
    <section class="quiz-section" id="quiz">
        <div class="container">
            <div class="section-header">
                <h2 style="color: #2563eb;">Какая игра подойдёт вашему ребёнку?</h2>
                <p style="color: #444;">Ответьте на несколько вопросов — и мы подскажем подходящую игру!</p>
            </div>
            <div class="game-cards">
                <div class="card card-logic">
                    <div class="card-icon">🔢</div>
                    <h3>Ваш ребёнок любит считать?</h3>
                    <p>Попробуйте игру <strong>2048</strong> или <strong>Охота за цифрами</strong>.</p>
                    <a href="/2048/" class="btn btn-outline">Играть в 2048</a>
                </div>
                <div class="card card-memory">
                    <div class="card-icon">🖼️</div>
                    <h3>Легко запоминает картинки?</h3>
                    <p>Идеально подойдут <strong>Мастер-карты</strong> или <strong>Цветовые пары</strong>.</p>
                    <a href="/mastercards/" class="btn btn-outline">Играть в Мастер-карты</a>
                </div>
                <div class="card card-brain">
                    <div class="card-icon">🧩</div>
                    <h3>Любит решать головоломки?</h3>
                    <p>Попробуйте <strong>Шедевры Памяти</strong> или <strong>Общую Тематику</strong>.</p>
                    <a href="/match_the_feel/" class="btn btn-outline">Играть в Темы</a>
                </div>
            </div>
        </div>
    </section>

    <div class="ornament-divider"></div>

    <!-- For Parents Section -->
    <section style="background-color: #fff8e1; padding: 80px 20px;" id="parents">
        <div class="container">
            <div class="section-header">
                <h2 style="color: #d97706;">Для родителей</h2>
                <p style="color: #444;">
                    Мы понимаем, как важно поддерживать интеллектуальное развитие детей. Наши игры не просто развлекают — они развивают внимание, память, логику и мышление. Раздел «Для родителей» поможет вам лучше понять, как и какие навыки формируются у ребёнка, и как вы можете это поддерживать дома.
                </p>
            </div>
        </div>
    </section>

    <div class="ornament-divider"></div>

    <!-- Platform Benefits Section -->
    <section class="games-section" style="background-color: #f0f9ff;">
        <div class="container">
            <div class="section-header">
                <h2 style="color: #2563eb;">Почему выбирают нас?</h2>
                <p style="color: #444;">Наша платформа — это не просто игры. Это безопасное и полезное пространство для развития детского интеллекта.</p>
            </div>
            <div class="game-cards">
                <div class="card card-logic">
                    <div class="card-icon">
                        🎯
                    </div>
                    <h3>Осознанное развитие</h3>
                    <p>Каждая игра разработана для прокачки конкретного навыка: логики, памяти, счёта или внимания.</p>
                </div>

                <div class="card card-memory">
                    <div class="card-icon">
                        👨‍🏫
                    </div>
                    <h3>Методическая поддержка</h3>
                    <p>Контент согласован с педагогами и психологами, чтобы обучение было эффективным и ненавязчивым.</p>
                </div>

                <div class="card card-brain">
                    <div class="card-icon">
                        🛡️
                    </div>
                    <h3>Безопасность детей</h3>
                    <p>Без рекламы, без отвлекающих факторов. Только качественные и проверенные упражнения в игровой форме.</p>
                </div>
            </div>
            <div class="view-all">
                <a href="{% url 'register' %}" class="btn btn-primary">Присоединиться сейчас</a>
            </div>
        </div>
    </section>
    <div class="ornament-divider"></div>
</body>
<script>
    const toggle = document.querySelector('.nav-toggle');
    const nav    = document.querySelector('.nav-links');

    toggle.addEventListener('click', () => {
        nav.classList.toggle('show');
        toggle.setAttribute('aria-expanded', nav.classList.contains('show'));
    });
</script>
<script>
    const emojis = ["🎯", "🧠", "🎲", "🧩", "🧒", "👧", "🦉", "🐴", "🏆", "📚", "✨", "🌈", "🧮"];
    const container = document.getElementById('falling-emojis');

    function createFallingEmoji() {
        const emoji = document.createElement('span');
        emoji.classList.add('falling-emoji');
        emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)];

        // Случайное начальное положение по оси X
        emoji.style.left = Math.random() * 100 + 'vw';
        // Случайная длительность анимации
        const duration = 5 + Math.random() * 5;
        emoji.style.animationDuration = duration + 's';
        // Размер
        const size = 1 + Math.random() * 1.5;
        emoji.style.fontSize = size + 'rem';

        container.appendChild(emoji);

        // Удалить через завершение анимации
        setTimeout(() => {
            emoji.remove();
        }, duration * 1000);
    }

    // Генерируем эмодзи каждые 300мс
    setInterval(createFallingEmoji, 300);
</script>
</html>